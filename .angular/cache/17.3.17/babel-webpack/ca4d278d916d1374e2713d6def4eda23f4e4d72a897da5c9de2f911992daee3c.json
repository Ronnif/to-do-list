{"ast":null,"code":"// ...otros imports...\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nfunction TaskItemComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3)(2, \"input\", 4);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function TaskItemComponent_ng_container_1_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.editTitle, $event) || (ctx_r1.editTitle = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"textarea\", 5);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function TaskItemComponent_ng_container_1_Template_textarea_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.editDescription, $event) || (ctx_r1.editDescription = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 6)(5, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function TaskItemComponent_ng_container_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.saveEdit());\n    });\n    i0.ɵɵtext(6, \"Guardar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TaskItemComponent_ng_container_1_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.cancelEdit());\n    });\n    i0.ɵɵtext(8, \"Cancelar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TaskItemComponent_ng_container_1_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.deleteTask());\n    });\n    i0.ɵɵtext(10, \"Eliminar\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.editTitle);\n    i0.ɵɵadvance();\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.editDescription);\n  }\n}\nfunction TaskItemComponent_ng_template_2_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1, \"\\u2714 Completada\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaskItemComponent_ng_template_2_input_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"input\", 18);\n    i0.ɵɵlistener(\"change\", function TaskItemComponent_ng_template_2_input_3_Template_input_change_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.toggleComplete());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"checked\", ctx_r1.task.completed)(\"id\", \"chk-\" + ctx_r1.task.id)(\"title\", \"Marcar como completada: \" + ctx_r1.task.title);\n  }\n}\nfunction TaskItemComponent_ng_template_2_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TaskItemComponent_ng_template_2_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.startEdit());\n    });\n    i0.ɵɵtext(1, \"Editar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaskItemComponent_ng_template_2_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function TaskItemComponent_ng_template_2_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.markAsPending());\n    });\n    i0.ɵɵtext(1, \"Marcar como pendiente\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TaskItemComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵtemplate(2, TaskItemComponent_ng_template_2_span_2_Template, 2, 0, \"span\", 12)(3, TaskItemComponent_ng_template_2_input_3_Template, 1, 3, \"input\", 13);\n    i0.ɵɵelementStart(4, \"div\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function TaskItemComponent_ng_template_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.deleteTask());\n    });\n    i0.ɵɵtext(8, \"Eliminar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, TaskItemComponent_ng_template_2_button_9_Template, 2, 0, \"button\", 15)(10, TaskItemComponent_ng_template_2_button_10_Template, 2, 0, \"button\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 16);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.task.completed);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.task.completed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.task.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.task.completed);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.task.completed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.task.description);\n  }\n}\nexport let TaskItemComponent = /*#__PURE__*/(() => {\n  class TaskItemComponent {\n    constructor() {\n      this.deleted = new EventEmitter();\n      this.toggled = new EventEmitter();\n      this.updated = new EventEmitter();\n      this.showEdit = true;\n      this.showDelete = true;\n      this.showMarkPending = false;\n      this.editing = false;\n      this.editTitle = '';\n      this.editDescription = '';\n    }\n    deleteTask() {\n      if (this.task.id !== undefined && this.task.id !== null) {\n        this.deleted.emit(Number(this.task.id)); // <-- Asegura que sea number\n      }\n    }\n    toggleComplete() {\n      // Emitimos una copia modificada, no el objeto original\n      this.toggled.emit({\n        ...this.task,\n        completed: !this.task.completed\n      });\n    }\n    startEdit() {\n      this.editing = true;\n      this.editTitle = this.task.title;\n      this.editDescription = this.task.description;\n    }\n    saveEdit() {\n      this.editing = false;\n      // Emitimos una copia modificada, no el objeto original\n      this.updated.emit({\n        ...this.task,\n        title: this.editTitle,\n        description: this.editDescription\n      });\n    }\n    cancelEdit() {\n      this.editing = false;\n    }\n    markAsPending() {\n      // Emitimos una copia modificada, no el objeto original\n      this.toggled.emit({\n        ...this.task,\n        completed: false\n      });\n    }\n    static {\n      this.ɵfac = function TaskItemComponent_Factory(t) {\n        return new (t || TaskItemComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TaskItemComponent,\n        selectors: [[\"app-task-item\"]],\n        inputs: {\n          task: \"task\",\n          showEdit: \"showEdit\",\n          showDelete: \"showDelete\",\n          showMarkPending: \"showMarkPending\"\n        },\n        outputs: {\n          deleted: \"deleted\",\n          toggled: \"toggled\",\n          updated: \"updated\"\n        },\n        decls: 4,\n        vars: 4,\n        consts: [[\"normalView\", \"\"], [1, \"task-card\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"edit-fields\"], [\"name\", \"editTitle\", \"placeholder\", \"T\\u00EDtulo\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"editDescription\", \"placeholder\", \"Descripci\\u00F3n\", 3, \"ngModelChange\", \"ngModel\"], [1, \"task-actions\"], [1, \"btn-primary\", 3, \"click\"], [1, \"btn-secondary\", 3, \"click\"], [1, \"btn-danger\", 3, \"click\"], [1, \"task-header\"], [1, \"task-title-section\"], [\"class\", \"completed-label\", 4, \"ngIf\"], [\"type\", \"checkbox\", \"aria-label\", \"Marcar como completada\", 3, \"checked\", \"id\", \"title\", \"change\", 4, \"ngIf\"], [1, \"task-title\"], [\"class\", \"btn-secondary\", 3, \"click\", 4, \"ngIf\"], [1, \"task-desc\"], [1, \"completed-label\"], [\"type\", \"checkbox\", \"aria-label\", \"Marcar como completada\", 3, \"change\", \"checked\", \"id\", \"title\"]],\n        template: function TaskItemComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1);\n            i0.ɵɵtemplate(1, TaskItemComponent_ng_container_1_Template, 11, 2, \"ng-container\", 2)(2, TaskItemComponent_ng_template_2_Template, 13, 6, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const normalView_r7 = i0.ɵɵreference(3);\n            i0.ɵɵclassProp(\"completed\", ctx.task.completed);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.editing)(\"ngIfElse\", normalView_r7);\n          }\n        },\n        dependencies: [i1.NgIf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel],\n        styles: [\".task-card[_ngcontent-%COMP%]{width:100%;max-width:600px;min-width:320px;align-self:center;box-sizing:border-box;display:flex;flex-direction:column;background:#fff;border:2px solid #e0e0e0;border-radius:12px;box-shadow:0 2px 8px #0000000a;padding:24px 20px;margin-bottom:24px;transition:box-shadow .2s;word-break:break-word;overflow-wrap:break-word;overflow:hidden}.task-card.completed[_ngcontent-%COMP%]{background:#e0ffe0;opacity:.8;transition:background .3s,opacity .3s}.task-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;flex-wrap:wrap}.task-title-section[_ngcontent-%COMP%]{flex:1 1 0;min-width:0;display:flex;flex-direction:column;align-items:flex-start;gap:2px;position:relative;word-break:break-word}.completed-label[_ngcontent-%COMP%]{color:#16a34a;font-weight:700;font-size:1em;margin-bottom:4px;margin-left:2px;align-self:flex-start;display:block}.task-title[_ngcontent-%COMP%]{font-weight:700;background:#e3f0fa;color:#2563eb;padding:10px 14px;border-radius:8px;margin-bottom:14px;font-size:1.1em;box-sizing:border-box;letter-spacing:.5px;min-width:80px;max-width:100%;white-space:pre-line;text-align:justify;word-break:break-word;overflow-wrap:break-word;position:relative}.task-title[_ngcontent-%COMP%]:after{content:\\\"\\\";display:block;height:1.5px;background:#e0e0e0;margin-top:10px;border-radius:1px;width:100%}.task-card.completed[_ngcontent-%COMP%]   .task-title[_ngcontent-%COMP%]{text-decoration:line-through;color:#888}.task-desc[_ngcontent-%COMP%]{color:#444;font-size:1em;padding-left:2px;padding-right:2px;margin-bottom:6px;text-align:justify;max-height:200px;overflow-y:auto;overflow-x:hidden;word-break:break-word}.edit-fields[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:8px}.edit-fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.edit-fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 14px;border-radius:8px;border:1.5px solid #bcd;font-size:1.1em;background:#f7fbff;outline:none;transition:border .2s}.edit-fields[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#2563eb}.edit-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px;max-height:250px;resize:vertical;overflow-x:auto;overflow-y:auto;padding:10px 14px;border-radius:8px;border:1.5px solid #bcd;font-size:1.05em;background:#f7fbff;outline:none;transition:border .2s}.edit-fields[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#2563eb}.task-actions[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;margin-top:12px}.btn-primary[_ngcontent-%COMP%]{background:#2563eb;color:#fff;border:none;border-radius:6px;min-width:110px;padding:8px 14px;font-size:1em;font-weight:500;cursor:pointer;margin-right:6px;margin-bottom:4px;box-sizing:border-box;box-shadow:0 2px 8px #2563eb14;transition:background .2s,box-shadow .2s}.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus{background:#1e40af;box-shadow:0 4px 16px #2563eb21}.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#2563eb;border:1.5px solid #2563eb;border-radius:6px;min-width:110px;padding:8px 14px;font-size:1em;font-weight:500;cursor:pointer;margin-right:6px;margin-bottom:4px;box-sizing:border-box;transition:background .2s,color .2s,border .2s}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary[_ngcontent-%COMP%]:focus{background:#2563eb;color:#fff;border-color:#1e40af}.btn-danger[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:none;border-radius:6px;min-width:110px;padding:8px 14px;font-size:1em;font-weight:500;cursor:pointer;margin-right:6px;margin-bottom:4px;box-sizing:border-box;box-shadow:0 2px 8px #ef444414;transition:background .2s}.btn-danger[_ngcontent-%COMP%]:hover, .btn-danger[_ngcontent-%COMP%]:focus{background:#b91c1c}@media (max-width: 600px){.task-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.task-actions[_ngcontent-%COMP%]{justify-content:stretch;margin-left:0}}\"]\n      });\n    }\n  }\n  return TaskItemComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}